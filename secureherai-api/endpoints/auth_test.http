### SecureHerAI Authentication API Tests

@baseUrl = http://localhost:8080/api
@authToken = eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiI0ODIwNDExZS03MmMwLTRlNmUtYTM2YS1iMmExOGY5YjRiZjQiLCJlbWFpbCI6IjIwMDUwMDlAdWdyYWQuY3NlLmJ1ZXQuYWMuYmQiLCJyb2xlIjoiVVNFUiIsImlhdCI6MTc0OTkxNzI5OSwiZXhwIjoxNzUwMDAzNjk5fQ.fRulT0w0DNiR8AdQ50dNV71Wyn5avFCDoLsGo_cTu9c

### 1. Health Check
GET {{baseUrl}}/health

### 2. Register User
POST {{baseUrl}}/auth/register
Content-Type: application/json

{
  "fullName": "AN Swapnil",
  "email": "2005009@ugrad.cse.buet.ac.bd",
  "password": "password123",
  "phoneNumber": "+8801712345678",
  "dateOfBirth": "1990-01-01"
}

### 2.1 Note: After registration, accounts need to be verified by logging in at least once.
###     Unverified accounts will be automatically deleted after 7 days.

### 4. Login User (Step 1: Request Login Code)
### This first step of the login process doesn't verify the account yet
POST {{baseUrl}}/auth/login
Content-Type: application/json

{
  "email": "2005009@ugrad.cse.buet.ac.bd",
  "password": "password123"
}

### 4.1. Verify Login Code (Step 2: Enter the code received via email)
### This second step of the login process verifies the account upon successful completion
POST {{baseUrl}}/auth/verify-login-code
Content-Type: application/json

{
  "email": "2005009@ugrad.cse.buet.ac.bd",
  "loginCode": "580527"
}

### 4.2. Verify Login Code - Invalid Code (should fail)
POST {{baseUrl}}/auth/verify-login-code
Content-Type: application/json

{
  "email": "2005009@ugrad.cse.buet.ac.bd",
  "loginCode": "000000"
}

### 4.3. Verify Login Code - Expired Code (should fail)
POST {{baseUrl}}/auth/verify-login-code
Content-Type: application/json

{
  "email": "2005009@ugrad.cse.buet.ac.bd",
  "loginCode": "966971"
}

### 5. Login User - Wrong Password (should fail)
POST {{baseUrl}}/auth/login
Content-Type: application/json

{
  "email": "2005009@ugrad.cse.buet.ac.bd",
  "password": "wrongpassword"
}

### 6. Get User Profile (Fresh token - valid until May 27, 2025)
GET {{baseUrl}}/user/profile
Authorization: Bearer {{authToken}}

### 7. Update User Profile (Fresh token - valid until May 27, 2025)
PUT {{baseUrl}}/user/profile
Authorization: Bearer {{authToken}}
Content-Type: application/json

{
  "fullName": "Jane Smith",
  "phoneNumber": "+8801712345679",
  "profilePicture": "data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAABAAEDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAv/xAAUEAEAAAAAAAAAAAAAAAAAAAAA/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAX/xAAUEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwCdABmX/9k="
}

### 8. Forgot Password
POST {{baseUrl}}/auth/forgot-password
Content-Type: application/json

{
  "email": "2005009@ugrad.cse.buet.ac.bd"
}

### 9. Reset Password (currently returns error as token validation not implemented)
POST {{baseUrl}}/auth/reset-password
Content-Type: application/json

{
  "token": "a0a2d8c3-454e-4720-b2f1-b51b0a78bdf3",
  "newPassword": "newpassword123"
}
